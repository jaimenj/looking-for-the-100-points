'use strict';

/////////////////////////
// Service Worker..
var debug = true;
var newSWRegistration;
window.addEventListener('load', function () {
    registerServiceWorker();
    updateCacheWithCurrentUrl();
    doTasksForMailchimpPopupFrom();
});

function registerServiceWorker() {
    if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('/sw.js')
            .then(registration => {
                if (debug) console.log('Service worker updated successfully!');
                newSWRegistration = registration;
            })
            .catch(err => {
                if (debug) console.log('ERROR: Service worker NOT registered..', err)
            });

        //navigator.serviceWorker.getRegistrations().then(function(registrations) {
        //    for (let registration of registrations) {
        //        registration.unregister();
        //    }
        //    console.log('Service workers unregistered.');
        //});
    }
}

function doTasksForMailchimpPopupFrom() {
    if (localStorage.mailchimpFormClosed) {
        localStorage.mailchimpFormClosed = Number(localStorage.mailchimpFormClosed) + 1;
        if (localStorage.mailchimpFormClosed > 10) {
            localStorage.removeItem("mailchimpFormClosed");
        }
    }

    // Mailchimp form is shown or not.
    if (!localStorage.mailchimpFormSubmited && !localStorage.mailchimpFormClosed) {
        if (debug) console.log('NOT submited and not closed, popup form will be shown.');
        setTimeout(() => {
            if (document.getElementById('myMailchimpModal')) {
                document.getElementById('myMailchimpModal').classList.remove('my-modal-normal');
                document.getElementById('myMailchimpModal').classList.add('my-modal-centered');
                document.getElementById('boxclose').classList.add('boxclose');
            }
        }, 30000);
    } else {
        if (debug) console.log('Submitted or closed, setted for non popup form.');
    }

    // For closing Mailchimp form.
    if (document.getElementById("boxclose")) {
        document.getElementById("boxclose").addEventListener("click", () => {
            if (document.getElementById('myMailchimpModal')) {
                document.getElementById('myMailchimpModal').classList.add('my-modal-normal');
                document.getElementById('myMailchimpModal').classList.remove('my-modal-centered');
                document.getElementById('boxclose').classList.remove('boxclose');
            }
            localStorage.mailchimpFormClosed = 1;
        });
    }
}

function setMailchimpFormSubmited() {
    localStorage.mailchimpFormSubmited = 1;
}

function updateCacheWithCurrentUrl() {
    if (navigator.onLine) {
        if (debug) console.log('Updating Cache Storage: ' + document.location.href);
        caches.keys().then(key => {
            caches.open(key).then(theCache => {
                theCache.delete(document.location.href).then(() => {
                    if (debug) console.log('Item deleted into Cache Storage..');
                    theCache.add(document.location.href).then(() => {
                        if (debug) console.log('Item added into Cache Storage..');
                    }).catch(() => {
                        if (debug) console.log('ERROR adding current URL to the Cache Storage..');
                    });
                }).catch(() => {
                    if (debug) console.log('Item NOT delete..');
                });
            });
        });
    } else {
        if (debug) console.log('Cache Storage NOT updated: ' + document.location.href);
    }
}

(function ($) {

    // DOM ready..
    $(function () {
        console.log('Loading main.js..')

        // Multilevel dropdown menu normal..
        if (screen.availWidth >= 990) {
            $('body').on('mouseover', '.dropdown-item', function (e) {
                //e.preventDefault();
                if ($(this).closest('.menu-item').hasClass('menu-item-has-children')) {
                    $(this).siblings().find('.dropdown-menu').removeClass("show");
                    $(this).next('.dropdown-menu').addClass("show");
                } else {
                    $(this).parent().siblings().find('.dropdown-menu').removeClass("show");
                }
            });
        } else {
            /* NOT FINE BEHAVIOUR.. // Menu collapsed and expanding..
            $('body').on('click', '.dropdown-item', function (e) {
                if (e.originalEvent.detail > 1) {
                    // If comes from dblclick goes out..
                    return;
                }
                var currentMenuItem = this;
                e.preventDefault();
                setTimeout(function () {
                    $(currentMenuItem).parents('.menu-item').addClass('show');
                    $(currentMenuItem).parents('.dropdown-menu').addClass('show');
                }, 2, currentMenuItem);
                if ($(this).closest('.menu-item').hasClass('menu-item-has-children')) {
                    if ($(this).next('.dropdown-menu').hasClass('show')) {
                        $(this).next('.dropdown-menu').removeClass("show");
                    } else {
                        $(this).siblings().find('.dropdown-menu').removeClass("show");
                        $(this).next('.dropdown-menu').addClass("show");
                    }
                } else {
                    $(this).parent().siblings().find('.dropdown-menu').removeClass("show");
                }
            });
            // Do dlbclick to go to the page if it isn't a #..
            $('body').on('dblclick', '.dropdown-item', function (e) {
                if ($(this).prop('href') != '#') {
                    window.location.href = $(this).prop('href');
                }
            });*/
            $('.menu-item.menu-item-has-children').addClass('show');
            $('.menu-item.menu-item-has-children .dropdown-menu').addClass('show');
        }
    });

    $('body').on('click', 'a[href="#"]', function (e) {
        e.preventDefault();
    });

    $('body').on('click', '.carousel-item-home', function () {
        window.location.href = $(this).data('url');
    });

})(jQuery);

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gU2VydmljZSBXb3JrZXIuLlxudmFyIGRlYnVnID0gdHJ1ZTtcbnZhciBuZXdTV1JlZ2lzdHJhdGlvbjtcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24gKCkge1xuICAgIHJlZ2lzdGVyU2VydmljZVdvcmtlcigpO1xuICAgIHVwZGF0ZUNhY2hlV2l0aEN1cnJlbnRVcmwoKTtcbiAgICBkb1Rhc2tzRm9yTWFpbGNoaW1wUG9wdXBGcm9tKCk7XG59KTtcblxuZnVuY3Rpb24gcmVnaXN0ZXJTZXJ2aWNlV29ya2VyKCkge1xuICAgIGlmICgnc2VydmljZVdvcmtlcicgaW4gbmF2aWdhdG9yKSB7XG4gICAgICAgIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLnJlZ2lzdGVyKCcvc3cuanMnKVxuICAgICAgICAgICAgLnRoZW4ocmVnaXN0cmF0aW9uID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZGVidWcpIGNvbnNvbGUubG9nKCdTZXJ2aWNlIHdvcmtlciB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEnKTtcbiAgICAgICAgICAgICAgICBuZXdTV1JlZ2lzdHJhdGlvbiA9IHJlZ2lzdHJhdGlvbjtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZGVidWcpIGNvbnNvbGUubG9nKCdFUlJPUjogU2VydmljZSB3b3JrZXIgTk9UIHJlZ2lzdGVyZWQuLicsIGVycilcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIC8vbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIuZ2V0UmVnaXN0cmF0aW9ucygpLnRoZW4oZnVuY3Rpb24ocmVnaXN0cmF0aW9ucykge1xuICAgICAgICAvLyAgICBmb3IgKGxldCByZWdpc3RyYXRpb24gb2YgcmVnaXN0cmF0aW9ucykge1xuICAgICAgICAvLyAgICAgICAgcmVnaXN0cmF0aW9uLnVucmVnaXN0ZXIoKTtcbiAgICAgICAgLy8gICAgfVxuICAgICAgICAvLyAgICBjb25zb2xlLmxvZygnU2VydmljZSB3b3JrZXJzIHVucmVnaXN0ZXJlZC4nKTtcbiAgICAgICAgLy99KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRvVGFza3NGb3JNYWlsY2hpbXBQb3B1cEZyb20oKSB7XG4gICAgaWYgKGxvY2FsU3RvcmFnZS5tYWlsY2hpbXBGb3JtQ2xvc2VkKSB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5tYWlsY2hpbXBGb3JtQ2xvc2VkID0gTnVtYmVyKGxvY2FsU3RvcmFnZS5tYWlsY2hpbXBGb3JtQ2xvc2VkKSArIDE7XG4gICAgICAgIGlmIChsb2NhbFN0b3JhZ2UubWFpbGNoaW1wRm9ybUNsb3NlZCA+IDEwKSB7XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcIm1haWxjaGltcEZvcm1DbG9zZWRcIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBNYWlsY2hpbXAgZm9ybSBpcyBzaG93biBvciBub3QuXG4gICAgaWYgKCFsb2NhbFN0b3JhZ2UubWFpbGNoaW1wRm9ybVN1Ym1pdGVkICYmICFsb2NhbFN0b3JhZ2UubWFpbGNoaW1wRm9ybUNsb3NlZCkge1xuICAgICAgICBpZiAoZGVidWcpIGNvbnNvbGUubG9nKCdOT1Qgc3VibWl0ZWQgYW5kIG5vdCBjbG9zZWQsIHBvcHVwIGZvcm0gd2lsbCBiZSBzaG93bi4nKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ215TWFpbGNoaW1wTW9kYWwnKSkge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdteU1haWxjaGltcE1vZGFsJykuY2xhc3NMaXN0LnJlbW92ZSgnbXktbW9kYWwtbm9ybWFsJyk7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ215TWFpbGNoaW1wTW9kYWwnKS5jbGFzc0xpc3QuYWRkKCdteS1tb2RhbC1jZW50ZXJlZCcpO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdib3hjbG9zZScpLmNsYXNzTGlzdC5hZGQoJ2JveGNsb3NlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDMwMDAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoZGVidWcpIGNvbnNvbGUubG9nKCdTdWJtaXR0ZWQgb3IgY2xvc2VkLCBzZXR0ZWQgZm9yIG5vbiBwb3B1cCBmb3JtLicpO1xuICAgIH1cblxuICAgIC8vIEZvciBjbG9zaW5nIE1haWxjaGltcCBmb3JtLlxuICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJveGNsb3NlXCIpKSB7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYm94Y2xvc2VcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbXlNYWlsY2hpbXBNb2RhbCcpKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ215TWFpbGNoaW1wTW9kYWwnKS5jbGFzc0xpc3QuYWRkKCdteS1tb2RhbC1ub3JtYWwnKTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbXlNYWlsY2hpbXBNb2RhbCcpLmNsYXNzTGlzdC5yZW1vdmUoJ215LW1vZGFsLWNlbnRlcmVkJyk7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JveGNsb3NlJykuY2xhc3NMaXN0LnJlbW92ZSgnYm94Y2xvc2UnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5tYWlsY2hpbXBGb3JtQ2xvc2VkID0gMTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzZXRNYWlsY2hpbXBGb3JtU3VibWl0ZWQoKSB7XG4gICAgbG9jYWxTdG9yYWdlLm1haWxjaGltcEZvcm1TdWJtaXRlZCA9IDE7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUNhY2hlV2l0aEN1cnJlbnRVcmwoKSB7XG4gICAgaWYgKG5hdmlnYXRvci5vbkxpbmUpIHtcbiAgICAgICAgaWYgKGRlYnVnKSBjb25zb2xlLmxvZygnVXBkYXRpbmcgQ2FjaGUgU3RvcmFnZTogJyArIGRvY3VtZW50LmxvY2F0aW9uLmhyZWYpO1xuICAgICAgICBjYWNoZXMua2V5cygpLnRoZW4oa2V5ID0+IHtcbiAgICAgICAgICAgIGNhY2hlcy5vcGVuKGtleSkudGhlbih0aGVDYWNoZSA9PiB7XG4gICAgICAgICAgICAgICAgdGhlQ2FjaGUuZGVsZXRlKGRvY3VtZW50LmxvY2F0aW9uLmhyZWYpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGVidWcpIGNvbnNvbGUubG9nKCdJdGVtIGRlbGV0ZWQgaW50byBDYWNoZSBTdG9yYWdlLi4nKTtcbiAgICAgICAgICAgICAgICAgICAgdGhlQ2FjaGUuYWRkKGRvY3VtZW50LmxvY2F0aW9uLmhyZWYpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlYnVnKSBjb25zb2xlLmxvZygnSXRlbSBhZGRlZCBpbnRvIENhY2hlIFN0b3JhZ2UuLicpO1xuICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVidWcpIGNvbnNvbGUubG9nKCdFUlJPUiBhZGRpbmcgY3VycmVudCBVUkwgdG8gdGhlIENhY2hlIFN0b3JhZ2UuLicpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KS5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZWJ1ZykgY29uc29sZS5sb2coJ0l0ZW0gTk9UIGRlbGV0ZS4uJyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGRlYnVnKSBjb25zb2xlLmxvZygnQ2FjaGUgU3RvcmFnZSBOT1QgdXBkYXRlZDogJyArIGRvY3VtZW50LmxvY2F0aW9uLmhyZWYpO1xuICAgIH1cbn1cblxuKGZ1bmN0aW9uICgkKSB7XG5cbiAgICAvLyBET00gcmVhZHkuLlxuICAgICQoZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zb2xlLmxvZygnTG9hZGluZyBtYWluLmpzLi4nKVxuXG4gICAgICAgIC8vIE11bHRpbGV2ZWwgZHJvcGRvd24gbWVudSBub3JtYWwuLlxuICAgICAgICBpZiAoc2NyZWVuLmF2YWlsV2lkdGggPj0gOTkwKSB7XG4gICAgICAgICAgICAkKCdib2R5Jykub24oJ21vdXNlb3ZlcicsICcuZHJvcGRvd24taXRlbScsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgLy9lLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgaWYgKCQodGhpcykuY2xvc2VzdCgnLm1lbnUtaXRlbScpLmhhc0NsYXNzKCdtZW51LWl0ZW0taGFzLWNoaWxkcmVuJykpIHtcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5zaWJsaW5ncygpLmZpbmQoJy5kcm9wZG93bi1tZW51JykucmVtb3ZlQ2xhc3MoXCJzaG93XCIpO1xuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLm5leHQoJy5kcm9wZG93bi1tZW51JykuYWRkQ2xhc3MoXCJzaG93XCIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICQodGhpcykucGFyZW50KCkuc2libGluZ3MoKS5maW5kKCcuZHJvcGRvd24tbWVudScpLnJlbW92ZUNsYXNzKFwic2hvd1wiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8qIE5PVCBGSU5FIEJFSEFWSU9VUi4uIC8vIE1lbnUgY29sbGFwc2VkIGFuZCBleHBhbmRpbmcuLlxuICAgICAgICAgICAgJCgnYm9keScpLm9uKCdjbGljaycsICcuZHJvcGRvd24taXRlbScsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGUub3JpZ2luYWxFdmVudC5kZXRhaWwgPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIGNvbWVzIGZyb20gZGJsY2xpY2sgZ29lcyBvdXQuLlxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50TWVudUl0ZW0gPSB0aGlzO1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgJChjdXJyZW50TWVudUl0ZW0pLnBhcmVudHMoJy5tZW51LWl0ZW0nKS5hZGRDbGFzcygnc2hvdycpO1xuICAgICAgICAgICAgICAgICAgICAkKGN1cnJlbnRNZW51SXRlbSkucGFyZW50cygnLmRyb3Bkb3duLW1lbnUnKS5hZGRDbGFzcygnc2hvdycpO1xuICAgICAgICAgICAgICAgIH0sIDIsIGN1cnJlbnRNZW51SXRlbSk7XG4gICAgICAgICAgICAgICAgaWYgKCQodGhpcykuY2xvc2VzdCgnLm1lbnUtaXRlbScpLmhhc0NsYXNzKCdtZW51LWl0ZW0taGFzLWNoaWxkcmVuJykpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCQodGhpcykubmV4dCgnLmRyb3Bkb3duLW1lbnUnKS5oYXNDbGFzcygnc2hvdycpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLm5leHQoJy5kcm9wZG93bi1tZW51JykucmVtb3ZlQ2xhc3MoXCJzaG93XCIpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5zaWJsaW5ncygpLmZpbmQoJy5kcm9wZG93bi1tZW51JykucmVtb3ZlQ2xhc3MoXCJzaG93XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5uZXh0KCcuZHJvcGRvd24tbWVudScpLmFkZENsYXNzKFwic2hvd1wiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICQodGhpcykucGFyZW50KCkuc2libGluZ3MoKS5maW5kKCcuZHJvcGRvd24tbWVudScpLnJlbW92ZUNsYXNzKFwic2hvd1wiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIERvIGRsYmNsaWNrIHRvIGdvIHRvIHRoZSBwYWdlIGlmIGl0IGlzbid0IGEgIy4uXG4gICAgICAgICAgICAkKCdib2R5Jykub24oJ2RibGNsaWNrJywgJy5kcm9wZG93bi1pdGVtJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoJCh0aGlzKS5wcm9wKCdocmVmJykgIT0gJyMnKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJCh0aGlzKS5wcm9wKCdocmVmJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7Ki9cbiAgICAgICAgICAgICQoJy5tZW51LWl0ZW0ubWVudS1pdGVtLWhhcy1jaGlsZHJlbicpLmFkZENsYXNzKCdzaG93Jyk7XG4gICAgICAgICAgICAkKCcubWVudS1pdGVtLm1lbnUtaXRlbS1oYXMtY2hpbGRyZW4gLmRyb3Bkb3duLW1lbnUnKS5hZGRDbGFzcygnc2hvdycpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAkKCdib2R5Jykub24oJ2NsaWNrJywgJ2FbaHJlZj1cIiNcIl0nLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG5cbiAgICAkKCdib2R5Jykub24oJ2NsaWNrJywgJy5jYXJvdXNlbC1pdGVtLWhvbWUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJCh0aGlzKS5kYXRhKCd1cmwnKTtcbiAgICB9KTtcblxufSkoalF1ZXJ5KTtcbiJdfQ==
